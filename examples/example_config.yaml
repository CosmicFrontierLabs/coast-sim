# COAST-Sim Mission Configuration File
# Generated YAML configuration with annotations
#
# This file defines the complete spacecraft configuration including:
#   - Spacecraft bus and subsystems
#   - Power generation and storage
#   - Payload instruments
#   - Ground stations
#   - Operational constraints
#
# Units Legend:
#   Power: Watts (W)
#   Energy: Watt-hours (Wh)
#   Time: seconds (s) unless otherwise specified
#   Angles: degrees (deg)
#   Data rates: Gigabits per second (Gbps) or Megabits per second (Mbps)
#   Data volume: Gigabits (Gb) or Gigabytes (GB)
#   Slew rates: degrees per second (deg/s)
#   Acceleration: degrees per second squared (deg/s²)

# Mission name/identifier
name: "Example Spacecraft Configuration"

# Spacecraft Bus Configuration
# Defines the main spacecraft platform including power, attitude control, and communications
spacecraft_bus:
  name: "Example Spacecraft Bus"
  # Power consumption of the spacecraft bus
  power_draw:
    nominal_power: 50.0
    peak_power: 300.0
    power_mode:
      '0': 70.0
      '1': 100.0
    eclipse_power: null
    eclipse_power_mode: {}
  # Attitude control system parameters
  # slew_acceleration: Angular acceleration (deg/s²)
  # max_slew_rate: Maximum angular velocity (deg/s)
  # slew_accuracy: Pointing accuracy (deg)
  # settle_time: Time to stabilize after slew (s)
  attitude_control:
    slew_acceleration: 0.01
    max_slew_rate: 0.3
    slew_accuracy: 0.01
    settle_time: 10.0
  communications: null
  # Thermal heater configuration
  heater:
    name: Bus Heaters
    power_draw:
      nominal_power: 25.0
      peak_power: 300.0
      power_mode: {}
      eclipse_power: 75.0
      eclipse_power_mode: {}
  # Data generation rates
  # rate_gbps: Continuous data generation rate (Gbps)
  # per_observation_gb: Data volume per observation (GB)
  data_generation:
    rate_gbps: 0.0
    per_observation_gb: 0.0

# Solar Panel Configuration
# Defines solar array characteristics and power generation capability
# conversion_efficiency: Overall efficiency of the solar array system
solar_panel:
  name: Default Solar Panel
  panels:
  - name: Example Solar Panel
    gimbled: false
    sidemount: true
    cant_x: 0.0
    cant_y: 0.0
    azimuth_deg: 0.0
    max_power: 474.21
    conversion_efficiency: 0.94
  conversion_efficiency: 0.95

# Payload/Instrument Configuration
# Defines science instruments with power draw and data generation rates
payload:
  payload:
  - name: Optical Imager
    power_draw:
      nominal_power: 50.0
      peak_power: 300.0
      power_mode:
        '0': 200.0
        '1': 50.0
        '2': 50.0
      eclipse_power: null
      eclipse_power_mode: {}
    heater: null
    data_generation:
      rate_gbps: 0.0001953125
      per_observation_gb: 0.0

# Battery Configuration
# amphour: Battery capacity in Ampere-hours (Ah)
# voltage: Nominal battery voltage (V)
# watthour: Total energy storage capacity (Wh)
# max_depth_of_discharge: Maximum allowed depth of discharge (0.0-1.0)
# recharge_threshold: Battery level fraction to stop charging (0.0-1.0)
# charge_level: Current battery charge level (Wh)
battery:
  name: Default Battery
  amphour: 20.0
  voltage: 28.0
  watthour: 1000.0
  emergency_recharge: false
  max_depth_of_discharge: 0.4
  recharge_threshold: 0.95
  charge_level: 1000.0
  emergency_charging_min_illumination: 1.0

# Pointing Constraints
# Defines geometric constraints for spacecraft pointing
# min_angle/max_angle: Angular separation constraints in degrees
constraint:
  sun_constraint:
    type: and
    constraints:
    - type: sun
      min_angle: 90.0
      max_angle: null
    - type: not
      constraint:
        type: eclipse
        umbra_only: true
  anti_sun_constraint:
    type: sun
    min_angle: 0.0
    max_angle: 180.0
  moon_constraint:
    type: moon
    min_angle: 20.0
    max_angle: null
  earth_constraint:
    type: earth_limb
    min_angle: 20.0
    max_angle: null
    include_refraction: false
    horizon_dip: false
  panel_constraint:
    type: and
    constraints:
    - type: sun
      min_angle: 45.0
      max_angle: 135.0
    - type: not
      constraint:
        type: eclipse
        umbra_only: true

# Ground Station Network
# latitude_deg/longitude_deg: Station location in degrees
# elevation_m: Station elevation above sea level in meters
# min_elevation_deg: Minimum elevation angle for contact (degrees)
# schedule_probability: Likelihood of successful contact (0.0-1.0)
# uplink_rate_mbps/downlink_rate_mbps: Data transfer rates in Mbps
ground_stations:
  stations:
  - code: NBO
    name: Nairobi
    latitude_deg: -1.2921
    longitude_deg: 36.8219
    elevation_m: 0.0
    min_elevation_deg: 10.0
    schedule_probability: 0.7
    bands:
    - band: S
      uplink_rate_mbps: 2.0
      downlink_rate_mbps: 10.0
    gain_db: null
  - code: SPO
    name: South Pole
    latitude_deg: -90.0
    longitude_deg: 0.0
    elevation_m: 2835.0
    min_elevation_deg: 10.0
    schedule_probability: 0.2
    bands:
    - band: S
      uplink_rate_mbps: 2.0
      downlink_rate_mbps: 10.0
    gain_db: null
  - code: NPO
    name: North Pole
    latitude_deg: 90.0
    longitude_deg: 0.0
    elevation_m: 0.0
    min_elevation_deg: 10.0
    schedule_probability: 0.2
    bands:
    - band: S
      uplink_rate_mbps: 2.0
      downlink_rate_mbps: 10.0
    gain_db: null
  - code: PVG
    name: Punta Veija
    latitude_deg: 8.7832
    longitude_deg: -71.2325
    elevation_m: 0.0
    min_elevation_deg: 10.0
    schedule_probability: 0.5
    bands:
    - band: S
      uplink_rate_mbps: 2.0
      downlink_rate_mbps: 10.0
    gain_db: null

# Onboard Data Recorder
# capacity_gb: Total storage capacity (GB)
# current_volume_gb: Current data volume stored (GB)
# yellow_threshold/red_threshold: Fill level alerts (0.0-1.0)
recorder:
  name: Default Recorder
  capacity_gb: 64.0
  current_volume_gb: 0.0
  yellow_threshold: 0.7
  red_threshold: 0.9

# Fault Management System
# Defines thresholds and responses for system health monitoring
# direction: 'above' or 'below' indicates threshold type
# safe_mode_on_red: Whether to enter safe mode on RED threshold breach
fault_management:
  thresholds:
  - name: battery_level
    yellow: 0.6
    red: 0.5
    direction: below
  - name: recorder_fill_fraction
    yellow: 0.7
    red: 0.9
    direction: above
  red_limit_constraints:
  - name: Sun Avoidance
    constraint:
      type: and
      constraints:
      - type: sun
        min_angle: 20.0
        max_angle: null
      - type: not
        constraint:
          type: eclipse
          umbra_only: true
    time_threshold_seconds: 120.0
    description: Spacecraft must avoid pointing too close to the Sun for extended periods.
  states: {}
  safe_mode_on_red: true
  safe_mode_requested: false
  events: []

# Observation Categories
# Defines categories for different observation types with ID ranges and colors
# obsid_min/obsid_max: Observation ID range for this category
observation_categories:
  categories:
  - name: GO
    obsid_min: 20000
    obsid_max: 30000
    color: tab:blue
  - name: Survey
    obsid_min: 10000
    obsid_max: 20000
    color: tab:green
  - name: GRB
    obsid_min: 1000000
    obsid_max: 2000000
    color: tab:orange
  - name: TOO
    obsid_min: 30000
    obsid_max: 40000
    color: tab:red
  - name: Charging
    obsid_min: 999000
    obsid_max: 1000000
    color: gold
  default_name: Other
  default_color: tab:purple

# Target Configuration
# Defines observational targets and scheduling parameters
targets:
  slew_distance_weight: 0.0
